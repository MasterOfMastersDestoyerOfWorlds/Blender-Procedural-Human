---
title: Audit all create_*_group calls when fixing geo node imports
category: refactoring
severity: high
modules: [geo_node_groups, armor, utilities]
tags: [imports, node-groups, migration]
---

## Context

Autogenerated geometry node files call `create_*_group()` for dependency
node groups. When moving these files into a package structure, every such
call must have a corresponding import — and the function names often
contain double underscores that are easy to miss (e.g.,
`create_gold_on__band_group`, `create_gem_in__holder_group`).

## Decision

After fixing imports in a geo node file, grep for every `create_*_group(`
call in that file and verify each one has a matching import. Do this
per-file, not in bulk, because dependencies vary.

```bash
rg "create_\w+_group\(" <file> --only-matching | sort -u
```

Compare against the file's import block.

## Evidence

- `neck.py`: missed `create_gem_in__holder_group` import on first pass.
- `shoulders.py`, `chest.py`, `waist.py`, `sleeves.py`: all had similar
  missing utility group imports discovered only after Blender runtime
  errors.

## Reuse trigger

Any time new geo node files are added or existing ones are moved between
packages, run the `create_*_group(` audit on every modified file.

## Anti-pattern

Do NOT trust a syntax/compile check to catch missing imports for
`create_*_group` — these are runtime calls that only fail when the node
group is actually built in Blender.
