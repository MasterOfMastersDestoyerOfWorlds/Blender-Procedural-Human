"""
Profile curve data for finger segments.

Each profile is a bezier curve normalized to 0-1 along the length,
with radius values as multipliers of the base segment radius.
"""

from enum import Enum


class ProfileType(Enum):
    """Types of profile curves"""

    X_PROFILE = "x_profile"
    Y_PROFILE = "y_profile"


class SegmentType(Enum):
    """Types of finger segments"""

    PROXIMAL = "proximal"
    MIDDLE = "middle"
    DISTAL = "distal"


DEFAULT_X_PROFILE_PROXIMAL = {
    "points": [
        {
            "co": (0.0, 0.0, 0.0),
            "handle_left": (-0.05, 0.0, 0.0),
            "handle_right": (0.05, 0.0, 0.0),
            "handle_left_type": "AUTO",
            "handle_right_type": "AUTO",
        },
        {
            "co": (0.0, 0.0, 0.5),
            "handle_left": (0.0, 0.0, -0.2),
            "handle_right": (0.0, 0.0, 0.2),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
            "radius": 1.05,
        },
        {
            "co": (0.0, 0.0, 1.0),
            "handle_left": (-0.05, 0.0, 0.0),
            "handle_right": (0.05, 0.0, 0.0),
            "handle_left_type": "AUTO",
            "handle_right_type": "AUTO",
        },
    ]
}

DEFAULT_Y_PROFILE_PROXIMAL = {
    "points": [
        {
            "co": (0.0, 0.0, 0.0),
            "handle_left": (0.0, -0.05, 0.0),
            "handle_right": (0.0, 0.05, 0.0),
            "handle_left_type": "AUTO",
            "handle_right_type": "AUTO",
        },
        {
            "co": (0.0, 0.0, 0.5),
            "handle_left": (0.0, 0.0, -0.2),
            "handle_right": (0.0, 0.0, 0.2),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
            "radius": 1.05,
        },
        {
            "co": (0.0, 0.0, 1.0),
            "handle_left": (0.0, -0.05, 0.0),
            "handle_right": (0.0, 0.05, 0.0),
            "handle_left_type": "AUTO",
            "handle_right_type": "AUTO",
        },
    ]
}

DEFAULT_X_PROFILE_MIDDLE = {
    "points": [
        {
            "co": (0.0, 0.0, 0.0),
            "handle_left": (-0.05, 0.0, 0.0),
            "handle_right": (0.05, 0.0, 0.0),
            "handle_left_type": "AUTO",
            "handle_right_type": "AUTO",
        },
        {
            "co": (0.0, 0.0, 0.5),
            "handle_left": (0.0, 0.0, -0.2),
            "handle_right": (0.0, 0.0, 0.2),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        },
        {
            "co": (0.0, 0.0, 1.0),
            "handle_left": (-0.05, 0.0, 0.0),
            "handle_right": (0.05, 0.0, 0.0),
            "handle_left_type": "AUTO",
            "handle_right_type": "AUTO",
        },
    ]
}

DEFAULT_Y_PROFILE_MIDDLE = {
    "points": [
        {
            "co": (0.0, 0.0, 0.0),
            "handle_left": (0.0, -0.05, 0.0),
            "handle_right": (0.0, 0.05, 0.0),
            "handle_left_type": "AUTO",
            "handle_right_type": "AUTO",
        },
        {
            "co": (0.0, 0.0, 0.5),
            "handle_left": (0.0, 0.0, -0.2),
            "handle_right": (0.0, 0.0, 0.2),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        },
        {
            "co": (0.0, 0.0, 1.0),
            "handle_left": (0.0, -0.05, 0.0),
            "handle_right": (0.0, 0.05, 0.0),
            "handle_left_type": "AUTO",
            "handle_right_type": "AUTO",
        },
    ]
}

DEFAULT_X_PROFILE_DISTAL = {
    "points": [
        {
            "co": (0.0, -0.007444328628480434, 0.0),
            "handle_left": (0.22968104481697083, 0.0, -0.02658674120903015),
            "handle_right": (-0.11484050750732422, 0.0, 0.013293368741869926),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        },
        {
            "co": (-0.2694814205169678, 0.0033377287909388542, 0.0014964714646339417),
            "handle_left": (0.11538909375667572, -4.5027583837509155e-05, -0.0026405497919768095),
            "handle_right": (-0.11538910865783691, 4.5027583837509155e-05, 0.002640550024807453),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        },
        {
            "co": (-0.25984758138656616, 0.0022879978641867638, 0.4939092993736267),
            "handle_left": (0.0, 0.0, -0.07499998807907104),
            "handle_right": (0.0, 0.0, 0.1499999761581421),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        },
        {
            "co": (0.0, -0.007444328628480434, 1.0),
            "handle_left": (-0.21021553874015808, 0.0, 0.028403639793395996),
            "handle_right": (0.21021553874015808, 0.0, -0.028403639793395996),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        }
    ]
}

DEFAULT_Y_PROFILE_DISTAL = {
    "points": [
        {
            "co": (0.010026626288890839, -0.00872201006859541, 0.0077520703212321735),
            "handle_left": (0.0, -0.23969565331935883, -0.01699137978837142),
            "handle_right": (0.0, 0.11984781175851822, 0.00849568897294892),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        },
        {
            "co": (0.03451903164386749, 0.31967273354530334, 0.0),
            "handle_left": (0.01063016802072525, -0.11887684464454651, -0.005378386735440162),
            "handle_right": (-0.010630171746015549, 0.1188768744468689, 0.005378388117295347),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        },
        {
            "co": (0.03075970523059368, 0.2767794728279114, 0.5219702592926334),
            "handle_left": (0.0, 0.00013309717178344727, -0.0741059971807501),
            "handle_right": (0.0, -0.0003152787685394287, 0.17553938561436133),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        },
        {
            "co": (0.0, 0.0, 1.0),
            "handle_left": (0.02283559925854206, 0.22929370403289795, 0.04811350014587969),
            "handle_right": (-0.021612584590911865, -0.21701334416866302, -0.04553669029661142),
            "handle_left_type": "ALIGNED",
            "handle_right_type": "ALIGNED",
        }
    ]
}


PROFILE_DATA = {
    SegmentType.PROXIMAL: {
        ProfileType.X_PROFILE: DEFAULT_X_PROFILE_PROXIMAL,
        ProfileType.Y_PROFILE: DEFAULT_Y_PROFILE_PROXIMAL,
    },
    SegmentType.MIDDLE: {
        ProfileType.X_PROFILE: DEFAULT_X_PROFILE_MIDDLE,
        ProfileType.Y_PROFILE: DEFAULT_Y_PROFILE_MIDDLE,
    },
    SegmentType.DISTAL: {
        ProfileType.X_PROFILE: DEFAULT_X_PROFILE_DISTAL,
        ProfileType.Y_PROFILE: DEFAULT_Y_PROFILE_DISTAL,
    },
}


def get_profile_data(segment_type: SegmentType, profile_type: ProfileType):
    """
    Get profile data for a given segment and profile type.

    Args:
        segment_type: SegmentType enum
        profile_type: ProfileType enum

    Returns:
        Profile data dictionary
    """

    return PROFILE_DATA[segment_type][profile_type]


__all__ = [
    "ProfileType",
    "SegmentType",
    "PROFILE_DATA",
    "get_profile_data",
    "DEFAULT_X_PROFILE_PROXIMAL",
    "DEFAULT_Y_PROFILE_PROXIMAL",
    "DEFAULT_X_PROFILE_MIDDLE",
    "DEFAULT_Y_PROFILE_MIDDLE",
    "DEFAULT_X_PROFILE_DISTAL",
    "DEFAULT_Y_PROFILE_DISTAL",
]
